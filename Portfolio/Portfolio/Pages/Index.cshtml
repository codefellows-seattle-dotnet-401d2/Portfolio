@page "{id?}"
@using Portfolio.Models

@inject IProjectsService ProjectsService

@{
    //Layout = "_Layout";
    var projects = await ProjectsService.GetAllAsync();
}


<head>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.css" />
    <link href="~/Style.css" rel="stylesheet" />
</head>

<header>

    <nav class="navbar static-top navbar-expand-lg" style="background-color: teal">
        <h1><a class="navbar-brand text-white" href="#">Home</a></h1>
        <div class="collapse navbar-collapse" id="navbarText">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    @if (!User.Identity.IsAuthenticated)
                    {
                        <a href="/Account/Login">Login</a>
                    }
                    else
                    {
                        <form method="post" asp-page="/Account/Login" asp-page-handler="Logout">
                            <div class="input-group">
                                <span>@User.Identity.Name</span>
                                <button type="submit" class="panel btn btn-link">Logout</button>
                            </div>
                        </form>
                    }
                </li>
            </ul>
            <span class="navbar-nav active">
                <a class="nav-link nav-item text-white" href="#">ABOUT <span class="sr-only">(current)</span></a>
            </span>
            <span class="navbar-nav active">
                <a class="nav-link nav-item text-white" href="#">CONTACT <span class="sr-only">(current)</span></a>
            </span>
        </div>
    </nav>
</header>


<body>
    @*login main color w/ text*@
    <section>
        <div class="text-center" style="height: 300px; background-color: teal; color: white">
            <h1 class="display-4" style="padding-top: 5%">Jeff Martinez</h1>
            <p class="lead">Full-Stack C# .Net Developer</p>
            <button type="submit" class="btn btn-lg" href="#">Contact</button>
        </div>
    </section>

    @*create space for app showcase*@
    <section style="margin-top: 5%">
        <div class="second-div container-fluid">
            <div class="row">
                <div class="col text-center">
                    <h3>Projects</h3>
                    @foreach (var proj in projects)
                    {
                        <div class="col">
                            @if (proj.Image != null)
                            {
                                // Add project images
                                <img class="img-thumbnail" height="400" width="250" src="@proj.GetInlineImageSrc()" />
                            }
                            else
                            {
                                <img class="img-thumbnail" height="400" width="250" src="@proj.ImageUrl" />

                            }

                            <h4 style="color: dimgray"><a asp-page="/Projects" asp-route-id="@proj.ID">@proj.Title</a> </h4>
                        </div>
                    }
                </div>

            </div>
        </div>
    </section>

</body>

<footer>
    <nav class="navbar-nav sticky-bottom navbar-expand-lg" style="background-color: dimgrey; margin-top: 10%; height: 50px">
        <h2 class="text-center" style="font-size: 1em; margin: 0 auto; color: lightgray; margin-top: 1%">Seattle, WA</h2>
    </nav>
</footer>





